<style>
  body {
    background-color: #f8f9fc;
  }

  .card-header {
    background-color: #4e73df;
    color: white;
  }

  .table th {
    background-color: #e9ecef;
  }

  .badge {
    font-size: 0.9rem;
  }

  .user-list {
    margin-top: 20px;
  }

    .user-list img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
    }

  .table td {
    vertical-align: middle; /* Hücre içeriğini ortala */
  }
</style>

<div class="container-fluid user-list">
  <h2 class="mt-4">Kullanıcı Listesi</h2>

  <form [formGroup]="personForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Ad</label>
      <input  formControlName="surname" type="text" id="name"  class="form-control" required>
    </div>
    <div class="form-group">
      <label for="surname">Soyad</label>
      <input formControlName="surname" type="text" id="surname"  class="form-control" required>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input formControlName="email" type="email" id="email"  class="form-control" required>
    </div>
    <div class="form-group">
      <label for="phone">Telefon</label>
      <input formControlName="phone"  type="text" id="phone"  class="form-control" required>
    </div>
    <div class="form-group">
      <label for="password">Şifre</label>
      <input formControlName="password" type="password" id="password"  class="form-control" required>
    </div>
    <div class="form-group">
      <label for="confirmPassword">Şifre Onayı</label>
      <input type="password" id="confirmPassword" formControlName="confirmPassword" class="form-control" required>
    </div>
    <div class="form-group">
      <label for="profilePicture">Profil Resmi</label>
      <input type="file" id="profilePicture" (change)="onFileSelected($event)">
      <img *ngIf="previewUrl" [src]="previewUrl" alt="Preview" class="img-fluid mt-2" />
    </div>
    <button type="submit" class="btn btn-primary">{{ editingUserId ? 'Güncelle' : 'Ekle' }}</button>
  </form>

  <div class="card mb-4">
    <div class="card-header">
      <h6 class="m-0 font-weight-bold">Kullanıcılar</h6>
    </div>
    <div class="card-body">
      <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
        <thead>
          <tr>
            <th>ID</th>
            <th>Email</th>
            <th>Telefon Numarası</th>
            <th>Ad</th>
            <th>Soyad</th>
            <th>Profil Resmi</th>
            <th>İşlemler</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users">
            <td>{{ user.id }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.phoneNumber }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.surname }}</td>
            <td>
              <img [src]="pictureUrl + user.profilePictureUrl" alt="{{ user.name }}" />
            </td>
            <td>
              <a [routerLink]="['/users/update', user.id]" class="badge badge-success">Güncelle</a>
              <!--<a class="badge badge-success">Güncelle</a>-->
              <a class="badge badge-danger">Sil</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
